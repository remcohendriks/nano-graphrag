# LMStudio + Neo4j + Qdrant + Redis configuration for health check
# This configuration uses Neo4j for graph, Qdrant for vectors, and Redis for KV storage

# Storage backends
STORAGE_GRAPH_BACKEND=neo4j
STORAGE_VECTOR_BACKEND=qdrant
STORAGE_KV_BACKEND=redis

# Neo4j configuration
NEO4J_URL=neo4j://localhost:7687
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=your-secure-password-change-me
NEO4J_DATABASE=neo4j
NEO4J_GRAPH_NAMESPACE=HealthCheckNQR

# Neo4j production parameters
NEO4J_MAX_CONNECTION_POOL_SIZE=50
NEO4J_CONNECTION_TIMEOUT=30.0
NEO4J_MAX_TRANSACTION_RETRY_TIME=30.0
NEO4J_BATCH_SIZE=1000

# Qdrant configuration
QDRANT_URL=http://localhost:6333
# QDRANT_API_KEY=your-api-key-if-needed
QDRANT_COLLECTION_PARAMS={}
# Custom namespace prefix for Qdrant collections
QDRANT_NAMESPACE_PREFIX=test_neo4j_qdrant_redis_working

# Redis configuration
REDIS_URL=redis://localhost:6379
# REDIS_PASSWORD=your-password-if-needed
REDIS_MAX_CONNECTIONS=50
REDIS_CONNECTION_TIMEOUT=5.0
REDIS_SOCKET_TIMEOUT=5.0
REDIS_HEALTH_CHECK_INTERVAL=30

# Redis TTL configuration (in seconds)
REDIS_TTL_LLM_RESPONSE_CACHE=43200  # 12 hours
REDIS_TTL_COMMUNITY_REPORTS=86400   # 24 hours
REDIS_TTL_TEXT_CHUNKS=0              # No expiry
REDIS_TTL_FULL_DOCS=0                # No expiry

# Standard test configuration
TEST_WORKING_DIR=./test_neo4j_qdrant_redis_working
TEST_DATA_LINES=1000
TEST_QUERY="What are the main themes?"

# LLM Configuration
LLM_PROVIDER=openai
LLM_MODEL=qwen3-30b-a3b-instruct-2507
LLM_MAX_TOKENS=32000
LLM_MAX_CONCURRENT=1
LLM_CACHE_ENABLED=true
LLM_TEMPERATURE=0.0
# Longer timeout for local models (120 seconds)
LLM_REQUEST_TIMEOUT=120.0
LLM_BASE_URL=http://192.168.1.5:9090/v1

# Embedding Configuration
EMBEDDING_PROVIDER=openai
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSION=1536
EMBEDDING_BATCH_SIZE=32
EMBEDDING_MAX_CONCURRENT=4

# Chunking Configuration
CHUNKING_STRATEGY=token
CHUNKING_SIZE=10000
CHUNKING_OVERLAP=400
CHUNKING_TOKENIZER=tiktoken
CHUNKING_TOKENIZER_MODEL=gpt-4o

# Entity Extraction
ENTITY_MAX_GLEANING=2
ENTITY_SUMMARY_MAX_TOKENS=300
ENTITY_STRATEGY=llm

# Graph Clustering
GRAPH_CLUSTERING_ALGORITHM=leiden
GRAPH_MAX_CLUSTER_SIZE=10
GRAPH_CLUSTERING_SEED=3967219502

# Query Configuration
QUERY_ENABLE_LOCAL=true
QUERY_ENABLE_GLOBAL=true
QUERY_ENABLE_NAIVE_RAG=false
QUERY_SIMILARITY_THRESHOLD=0.2

# Enable verbose logging for debugging
ENABLE_DEBUG_LOGGING=true

# Health Check Timeouts
HEALTH_CHECK_INSERT_TIMEOUT=1800  # Timeout for insert operation in seconds (default: 600 = 10 minutes)
HEALTH_CHECK_RUNTIME_WARNING=600  # Threshold for runtime warning in seconds (default: 600 = 10 minutes)